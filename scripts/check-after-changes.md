# 改动后系统性检查流程

## 🔧 **每次代码修改后必须执行的检查**

### **第1步：构建验证**
```bash
npm run build
```
✅ **期望结果**：无编译错误，无TypeScript警告

### **第2步：扩展重新加载**
```
1. 打开 chrome://extensions/
2. 找到"姿势守护者"
3. 点击🔄 刷新按钮
4. 确认无红色错误提示
```

### **第3步：基础功能验证**
```
1. 打开任意网页 (如 google.com)
2. 按F12 → Console标签
3. 刷新页面
4. 检查日志输出：
   ✅ "Content Script onExecute 被调用"
   ✅ "启动Content Script系统..."  
   ✅ "姿势监控入口已创建"
```

### **第4步：扩展弹窗测试**
```
1. 点击浏览器工具栏的扩展图标
2. 应能正常打开弹窗界面
3. 界面元素正常显示
4. 无Console错误
```

### **第5步：核心功能测试**

#### **5.1 姿势监控启动**
```
1. 在弹窗中点击"开始监控" 
2. 允许摄像头权限
3. 检查绿色摄像头界面显示
4. Console应有监控启动日志
```

#### **5.2 状态变化测试**
```
1. 坐直 → 图标应为绿色
2. 前倾头部 → 图标应立即变红
3. 坐直 → 图标应立即变绿
4. Console应有检测结果日志
```

#### **5.3 时间基础提醒测试**
```
1. 保持坏姿势5秒 → 应收到声音提醒
2. 改正姿势 → 提醒立即停止
3. Console应有时间基础提醒日志
```

#### **5.4 设置页面测试**
```
1. 打开设置页面
2. 点击"试听"按钮 → 应有声音
3. 更改设置并保存
4. 设置应正确保存和生效
```

## ⚠️ **必须通过的验收标准**

### **响应性标准**
- [ ] 姿势变化 → 图标颜色在1秒内更新
- [ ] 坏姿势5秒 → 准时收到提醒
- [ ] 改正姿势 → 立即停止所有提醒

### **音频标准**  
- [ ] 设置页试听有声音
- [ ] 提醒时有声音播放
- [ ] 不同音效确实不同

### **稳定性标准**
- [ ] 无Console错误或警告
- [ ] 扩展图标无异常状态
- [ ] 长时间使用无崩溃

## 🚨 **如果任何步骤失败**

1. **记录失败步骤和错误信息**
2. **不要继续下一个改动**
3. **优先修复当前问题**
4. **重新执行完整检查流程**

## 📊 **检查记录模板**

```
检查时间: [YYYY-MM-DD HH:MM]
修改内容: [描述本次修改]

✅/❌ 构建验证:
✅/❌ 扩展加载:
✅/❌ Console日志:
✅/❌ 弹窗界面:
✅/❌ 监控启动:
✅/❌ 状态变化:
✅/❌ 时间提醒:
✅/❌ 设置功能:

问题记录: [如有问题详细描述]
修复方案: [问题解决方案]
```

**只有所有项目都✅后，才能进行下一个功能开发！** 