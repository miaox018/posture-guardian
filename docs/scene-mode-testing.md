# 场景模式测试指南

## 🎯 新增场景模式功能

我们已经成功实现了基于场景的智能提醒系统，包含三种模式：

### 💻 电脑工作模式
- **适用场景**: 办公环境、编程、写作等需要专注的电脑工作
- **提醒策略**: 渐进式提醒，避免干扰工作流
- **触发流程**: 图标变色(10秒) → 轻柔弹窗(1分钟) → 声音提醒

### 📚 学习阅读模式  
- **适用场景**: 看书学习、做作业、阅读纸质材料
- **提醒策略**: 快速音效提醒，因为用户可能看不到屏幕
- **触发流程**: 图标变色(10秒) → 直接声音提醒

### 🎧 静音模式
- **适用场景**: 会议、直播、特殊场合等不能发出声音的环境
- **提醒策略**: 仅视觉提醒，强化弹窗效果
- **触发流程**: 图标变色 → 强化视觉弹窗（屏幕中央、更明显）

## 🧪 测试步骤

### 1. 基础功能测试

#### A. 按钮响应测试
1. 打开扩展popup界面
2. 查看"🎯 场景模式"部分的三个按钮
3. 依次点击每个按钮，确认：
   - 按钮状态正确切换（高亮显示当前选中模式）
   - 下方说明文字相应更新
   - 控制台显示模式切换日志

#### B. 界面显示测试
确认每个模式的显示效果：

**💻 电脑工作模式（蓝色）**:
- 图标: 💻 
- 描述: "图标→弹窗→声音"
- 说明: "适合办公环境，渐进式提醒避免干扰工作"

**📚 学习阅读模式（绿色）**:
- 图标: 📚
- 描述: "图标→直接声音" 
- 说明: "适合看书学习，快速音效提醒保持专注"

**🎧 静音模式（紫色）**:
- 图标: 🎧
- 描述: "仅视觉提醒"
- 说明: "会议或特殊场合，只有视觉提醒无声音"

### 2. 提醒效果测试

#### A. 电脑工作模式测试
1. 选择💻电脑工作模式
2. 故意采用不良坐姿
3. 观察提醒流程：
   - 第一阶段：扩展图标变色
   - 第二阶段：右上角出现轻柔绿色弹窗
   - 第三阶段：播放声音提醒

#### B. 学习阅读模式测试  
1. 选择📚学习阅读模式
2. 故意采用不良坐姿
3. 观察提醒流程：
   - 第一阶段：扩展图标变色
   - 第二阶段：直接播放声音提醒（跳过弹窗）

#### C. 静音模式测试
1. 选择🎧静音模式
2. 故意采用不良坐姿
3. 观察提醒流程：
   - 第一阶段：扩展图标变色
   - 第二阶段：屏幕中央出现红色强化弹窗（有脉动动画）
   - **确认**：全程无声音提醒

### 3. 高级功能测试

#### A. 模式切换持久化
1. 切换到任意模式
2. 关闭扩展popup
3. 重新打开popup
4. 确认模式设置被保存

#### B. 跨页面同步
1. 在一个标签页设置模式
2. 打开新标签页
3. 确认模式设置同步生效

#### C. 强化弹窗效果（静音模式专用）
1. 选择🎧静音模式
2. 触发level 2提醒
3. 观察强化弹窗特效：
   - 位置：屏幕正中央
   - 颜色：红色背景
   - 动画：脉动效果
   - 图标：🚨（警报图标）
   - 内容：多行强化提醒文本
   - 显示时间：5秒（比普通弹窗更长）

## ✅ 测试检查清单

### 界面功能
- [ ] 三个模式按钮正确显示
- [ ] 点击按钮能正确切换模式
- [ ] 当前选中模式正确高亮
- [ ] 模式说明文字正确更新
- [ ] 颜色区分清晰（蓝/绿/紫）

### 提醒逻辑  
- [ ] 电脑工作模式：渐进式三级提醒
- [ ] 学习阅读模式：快速跳转到声音
- [ ] 静音模式：仅视觉提醒，无声音
- [ ] 冷却期机制正常工作

### 视觉效果
- [ ] 普通弹窗：右上角绿色温和提醒
- [ ] 强化弹窗：屏幕中央红色脉动警告
- [ ] 图标变色正确反映状态
- [ ] 动画效果流畅自然

### 数据持久化
- [ ] 模式选择被正确保存
- [ ] 重启扩展后设置保持
- [ ] 跨标签页设置同步

## 🐛 常见问题排查

### 按钮无响应
- 检查控制台是否有JavaScript错误
- 确认Chrome扩展权限正常
- 重新加载扩展

### 提醒不生效
- 确认姿势检测是否正常工作
- 检查消息传递系统
- 查看background script日志

### 声音不播放
- 确认不在静音模式
- 检查系统音量设置
- 验证浏览器音频权限

### 弹窗不显示
- 确认content script正确注入
- 检查页面是否阻止了弹窗
- 查看样式是否被覆盖

## 📊 预期测试结果

完成测试后，您应该看到：

1. **功能完整性**: 三种模式都能正确工作
2. **用户体验**: 切换流畅，提醒恰当
3. **场景适配**: 每种模式都适合其目标场景
4. **视觉设计**: 界面美观，层次清晰

如果测试通过，我们就可以进入下一阶段：**检测精度优化**！ 🎯 